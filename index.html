<!DOCTYPE html>
<html>
<head>
  <title>Etch a Sketch</title>
  <meta charset="UTF-8"/>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <center><h1>Etch a Sketch</h1></center>
  <center>
    <div id="canvas"></div>
  </center>
  <center>
    <button id="clear">Clear</button>
  </center>
  <script>
    // Selects certain elements on the page.
    const canvas = document.querySelector("#canvas");
    const clear = document.querySelector("#clear");

    // Creates the standard grid
    createDivs(16);

    // Adds an eventlistener to the buttons
    clear.addEventListener('click', clearCanvas);

    // Clears the canvas
    function clearCanvas() {
        canvas.innerHTML = '';
        let size = prompt('How big does the canvas have to be?');
        checkMinimum(size);
    }

    // Checks if the submitted size is valid
    function checkMinimum (size) {
        if (size >= 16) {
            document.documentElement.style.setProperty("--n", size);
            createDivs(size);
        } else {
            clearCanvas();
        }
    }

    // Creates the dividers and adds eventlisteners to them
    function createDivs (num) {
        for (let i = 0; i < num**2; i++) {
            const container = document.querySelector('#canvas');
            const div = document.createElement('div');
            div.classList.add('div');
            div.addEventListener('mouseover', () => div.classList.add('black'));
            container.appendChild(div);
        }
    }
  </script>
</body>
</html>